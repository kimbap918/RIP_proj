{% extends 'base.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% load widget_tweaks %}
{% block content %}

<body class="m-0 p-0" style="background-color: #0A323C;">
    <div style="padding-left: 30px; padding-right: 30px; margin-top: 2rem;">
        <div class="d-flex">
            <aside class="m-2" style="width: 30%;">
                <h1 class="text-center">챔피언</h1>
                <div class="row champs" style="justify-content: space-evenly">
                    {% for champ in infos %}
                    <div class="col-md-6 p-0 m-1" style="width: 50px; height: 64px;">
                        <a href="{{ champ.detail }}" style="text-decoration: none;">
                            <img src="{{ champ.img }}" alt="" style="width: 50px; height: 50px; border-radius: 5px;">
                            <p style="font-size: 13px; text-decoration: none; color: azure;">{{ champ.name }}</p>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </aside>
            <article class="m-2" style="width: 70%;">
                <h1>순위</h1>
                <div class="wrap">
                    <div class="tab_menu d-flex justify-content-center">
                        <ul class="list">
                            <li class="is_on">
                                <a href="#top" class="btn">탑</a>
                            </li>
                            <li>
                                <a href="#jungle" class="btn">정글</a>
                            </li>
                            <li>
                                <a href="#mid" class="btn">미드</a>
                            </li>
                            <li>
                                <a href="#adc" class="btn">바텀</a>
                            </li>
                            <li>
                                <a href="#support" class="btn">서포터</a>
                            </li>
                        </ul>
                    </div>
                    <div class="cont_area">
                        <div id="top" class="cont" style="display:block;">
                            <div class="tbl-header">
                                <table cellpadding="0" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="c-rank">순위</th>
                                            <th scope="col" class="c-name">챔피언</th>
                                            <th scope="col" class="c-rank">티어</th>
                                            <th scope="col" class="c-percent">승률</th>
                                            <th scope="col" class="c-percent">픽률</th>
                                            <th scope="col" class="c-percent">밴률</th>
                                            <th scope="col" class="c-name">어려운 챔피언</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="tbl-content">
                                <table cellpadding="0" cellspacing="0">
                                    <tbody class="text-center">
                                        {% for t in top %}
                                        <tr>
                                            <td scope="col" class="c-rank-t">{{ t.rank }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.img }}" alt=""
                                                    style="width: 25px; height: 25px; border-radius: 5px;">
                                                {{ t.name}}</td>
                                            <td scope="col" class="c-rank-t">
                                                {% if t.tier == '0' %}
                                                <img src="/static/images/t_op.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '1' %}
                                                <img src="/static/images/t_1.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '2' %}
                                                <img src="/static/images/t_2.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '3' %}
                                                <img src="/static/images/t_3.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '4' %}
                                                <img src="/static/images/t_4.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% else %}
                                                <img src="/static/images/t_5.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% endif %}
                                            </td>
                                            <td scope="col" class="c-percent-t">{{ t.win }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.pick }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.ben }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.hard.0 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;"><img src="{{ t.hard.1 }}"
                                                    alt=""
                                                    style="border-radius: 100%; width: 25px; margin-left: 5px; margin-right: 5px;"><img
                                                    src="{{ t.hard.2 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="jungle" class="cont" style="display: none;">
                            <div class="tbl-header">
                                <table cellpadding="0" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="c-rank">순위</th>
                                            <th scope="col" class="c-name">챔피언</th>
                                            <th scope="col" class="c-rank">티어</th>
                                            <th scope="col" class="c-percent">승률</th>
                                            <th scope="col" class="c-percent">픽률</th>
                                            <th scope="col" class="c-percent">밴률</th>
                                            <th scope="col" class="c-name">어려운 챔피언</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="tbl-content">
                                <table cellpadding="0" cellspacing="0">
                                    <tbody class="text-center">
                                        {% for t in jungle %}
                                        <tr>
                                            <td scope="col" class="c-rank-t">{{ t.rank }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.img }}" alt=""
                                                    style="width: 25px; height: 25px; border-radius: 5px;">
                                                {{ t.name}}</td>
                                            <td scope="col" class="c-rank-t">
                                                {% if t.tier == '0' %}
                                                <img src="/static/images/t_op.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '1' %}
                                                <img src="/static/images/t_1.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '2' %}
                                                <img src="/static/images/t_2.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '3' %}
                                                <img src="/static/images/t_3.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '4' %}
                                                <img src="/static/images/t_4.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% else %}
                                                <img src="/static/images/t_5.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% endif %}
                                            </td>
                                            <td scope="col" class="c-percent-t">{{ t.win }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.pick }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.ben }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.hard.0 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;"><img src="{{ t.hard.1 }}"
                                                    alt=""
                                                    style="border-radius: 100%; width: 25px; margin-left: 5px; margin-right: 5px;"><img
                                                    src="{{ t.hard.2 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="mid" class="cont" style="display: none;">
                            <div class="tbl-header">
                                <table cellpadding="0" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="c-rank">순위</th>
                                            <th scope="col" class="c-name">챔피언</th>
                                            <th scope="col" class="c-rank">티어</th>
                                            <th scope="col" class="c-percent">승률</th>
                                            <th scope="col" class="c-percent">픽률</th>
                                            <th scope="col" class="c-percent">밴률</th>
                                            <th scope="col" class="c-name">어려운 챔피언</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="tbl-content">
                                <table cellpadding="0" cellspacing="0">
                                    <tbody class="text-center">
                                        {% for t in mid %}
                                        <tr>
                                            <td scope="col" class="c-rank-t">{{ t.rank }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.img }}" alt=""
                                                    style="width: 25px; height: 25px; border-radius: 5px;">
                                                {{ t.name}}</td>
                                            <td scope="col" class="c-rank-t">
                                                {% if t.tier == '0' %}
                                                <img src="/static/images/t_op.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '1' %}
                                                <img src="/static/images/t_1.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '2' %}
                                                <img src="/static/images/t_2.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '3' %}
                                                <img src="/static/images/t_3.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '4' %}
                                                <img src="/static/images/t_4.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% else %}
                                                <img src="/static/images/t_5.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% endif %}
                                            </td>
                                            <td scope="col" class="c-percent-t">{{ t.win }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.pick }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.ben }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.hard.0 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;"><img src="{{ t.hard.1 }}"
                                                    alt=""
                                                    style="border-radius: 100%; width: 25px; margin-left: 5px; margin-right: 5px;"><img
                                                    src="{{ t.hard.2 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="adc" class="cont" style="display: none;">
                            <div class="tbl-header">
                                <table cellpadding="0" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="c-rank">순위</th>
                                            <th scope="col" class="c-name">챔피언</th>
                                            <th scope="col" class="c-rank">티어</th>
                                            <th scope="col" class="c-percent">승률</th>
                                            <th scope="col" class="c-percent">픽률</th>
                                            <th scope="col" class="c-percent">밴률</th>
                                            <th scope="col" class="c-name">어려운 챔피언</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="tbl-content">
                                <table cellpadding="0" cellspacing="0">
                                    <tbody class="text-center">
                                        {% for t in adc %}
                                        <tr>
                                            <td scope="col" class="c-rank-t">{{ t.rank }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.img }}" alt=""
                                                    style="width: 25px; height: 25px; border-radius: 5px;">
                                                {{ t.name}}</td>
                                            <td scope="col" class="c-rank-t">
                                                {% if t.tier == '0' %}
                                                <img src="/static/images/t_op.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '1' %}
                                                <img src="/static/images/t_1.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '2' %}
                                                <img src="/static/images/t_2.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '3' %}
                                                <img src="/static/images/t_3.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '4' %}
                                                <img src="/static/images/t_4.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% else %}
                                                <img src="/static/images/t_5.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% endif %}
                                            </td>
                                            <td scope="col" class="c-percent-t">{{ t.win }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.pick }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.ben }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.hard.0 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;"><img src="{{ t.hard.1 }}"
                                                    alt=""
                                                    style="border-radius: 100%; width: 25px; margin-left: 5px; margin-right: 5px;"><img
                                                    src="{{ t.hard.2 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="support" class="cont" style="display: none;">
                            <div class="tbl-header">
                                <table cellpadding="0" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="c-rank">순위</th>
                                            <th scope="col" class="c-name">챔피언</th>
                                            <th scope="col" class="c-rank">티어</th>
                                            <th scope="col" class="c-percent">승률</th>
                                            <th scope="col" class="c-percent">픽률</th>
                                            <th scope="col" class="c-percent">밴률</th>
                                            <th scope="col" class="c-name">어려운 챔피언</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="tbl-content">
                                <table cellpadding="0" cellspacing="0">
                                    <tbody class="text-center">
                                        {% for t in support %}
                                        <tr>
                                            <td scope="col" class="c-rank-t">{{ t.rank }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.img }}" alt=""
                                                    style="width: 25px; height: 25px; border-radius: 5px;">
                                                {{ t.name}}</td>
                                            <td scope="col" class="c-rank-t">
                                                {% if t.tier == '0' %}
                                                <img src="/static/images/t_op.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '1' %}
                                                <img src="/static/images/t_1.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '2' %}
                                                <img src="/static/images/t_2.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '3' %}
                                                <img src="/static/images/t_3.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% elif t.tier == '4' %}
                                                <img src="/static/images/t_4.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% else %}
                                                <img src="/static/images/t_5.png" alt=""
                                                    style="width: 24px; height: 24px;">
                                                {% endif %}
                                            </td>
                                            <td scope="col" class="c-percent-t">{{ t.win }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.pick }}</td>
                                            <td scope="col" class="c-percent-t">{{ t.ben }}</td>
                                            <td scope="col" class="c-name-t"><img src="{{ t.hard.0 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;"><img src="{{ t.hard.1 }}"
                                                    alt=""
                                                    style="border-radius: 100%; width: 25px; margin-left: 5px; margin-right: 5px;"><img
                                                    src="{{ t.hard.2 }}" alt=""
                                                    style="border-radius: 100%; width: 25px;">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    </div>
</body>

<!-- 랭킹 탭 메뉴 JS -->
<!-- <script src="{% static 'js/champ_index.js' %}"></script> -->
<!-- 랭킹 탭 메뉴 CSS -->
<link rel="stylesheet" href="{% static 'css/champions_index.css' %}">

<script>
    // 랭킹 탭 메뉴

    const tabList = document.querySelectorAll('.tab_menu .list li');
    const contents = document.querySelectorAll('.cont_area .cont')
    let activeCont = ''; // 현재 활성화 된 컨텐츠 (기본:#tab1 활성화)

    for (var i = 0; i < tabList.length; i++) {
        tabList[i].querySelector('.btn').addEventListener('click', function (e) {
            e.preventDefault();
            for (var j = 0; j < tabList.length; j++) {
                // 나머지 버튼 클래스 제거
                tabList[j].classList.remove('is_on');

                // 나머지 컨텐츠 display:none 처리
                contents[j].style.display = 'none';
            }

            // 버튼 관련 이벤트
            this.parentNode.classList.add('is_on');

            // 버튼 클릭시 컨텐츠 전환
            activeCont = this.getAttribute('href');
            document.querySelector(activeCont).style.display = 'block';
        });
    }

    // 테이블

    $(window).on("load resize ", function () {
        var scrollWidth = $('.tbl-content').width() - $('.tbl-content table').width();
        $('.tbl-header').css({ 'padding-right': scrollWidth });
    }).resize();

    // 챔피언 정보

    $(window).on("load resize ", function () {
        var scrollWidth = $('.champs').width() - $('.champs table').width();
        $('.tbl-header').css({ 'padding-right': scrollWidth });
    }).resize();

</script>

{% endblock content %}